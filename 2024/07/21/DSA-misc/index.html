<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="主要针对近期看到的以前没用过的东西, 也包括一些图论相关. 简单记录一下相关模版, 方便后续看到类似的题目好处理. 差分数组 第一次见, 先熟悉一下. 1094. 拼车 车上最初有 capacity 个空座位。车 只能 向一个方向行驶（也就是说，不允许掉头或改变方向） 给定整数 capacity 和一个数组 trips ,  trip[i] &#x3D; [numPassengers_i, from_i,">
<meta property="og:type" content="article">
<meta property="og:title" content="DSA-misc">
<meta property="og:url" content="http://example.com/2024/07/21/DSA-misc/index.html">
<meta property="og:site_name" content="blacsheep&#39;s blog">
<meta property="og:description" content="主要针对近期看到的以前没用过的东西, 也包括一些图论相关. 简单记录一下相关模版, 方便后续看到类似的题目好处理. 差分数组 第一次见, 先熟悉一下. 1094. 拼车 车上最初有 capacity 个空座位。车 只能 向一个方向行驶（也就是说，不允许掉头或改变方向） 给定整数 capacity 和一个数组 trips ,  trip[i] &#x3D; [numPassengers_i, from_i,">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2022/07/06/gridosdrawio.png">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2023/11/08/example11.png">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2023/11/08/example22.png">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2024/03/09/example1.png">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2024/03/09/example2.png">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2021/11/06/desmos-eg-3.png">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2021/11/06/desmos-eg-2.png">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2021/11/07/desmos-eg1.png">
<meta property="article:published_time" content="2024-07-21T17:21:08.000Z">
<meta property="article:modified_time" content="2024-07-21T18:45:56.676Z">
<meta property="article:author" content="blacsheep">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://assets.leetcode.com/uploads/2022/07/06/gridosdrawio.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>DSA-misc</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/2024/07/19/DSA-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/07/21/DSA-misc/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/07/21/DSA-misc/&text=DSA-misc"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/07/21/DSA-misc/&is_video=false&description=DSA-misc"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=DSA-misc&body=Check out this article: http://example.com/2024/07/21/DSA-misc/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/07/21/DSA-misc/&name=DSA-misc&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/07/21/DSA-misc/&t=DSA-misc"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84"><span class="toc-number">1.</span> <span class="toc-text">差分数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%BC%E8%BD%A6"><span class="toc-number">1.1.</span> <span class="toc-text">1094. 拼车</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E6%95%B0%E7%BB%84%E7%AD%89%E4%BA%8E%E7%9B%AE%E6%A0%87%E6%95%B0%E7%BB%84%E6%89%80%E9%9C%80%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AC%A1%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">100329. 使数组等于目标数组所需的最少操作次数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-number">2.</span> <span class="toc-text">并查集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A6%E6%88%B7%E5%90%88%E5%B9%B6"><span class="toc-number">2.1.</span> <span class="toc-text">721. 账户合并</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE"><span class="toc-number"></span> <span class="toc-text">图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">拓扑排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%AE%9A%E6%9D%A1%E4%BB%B6%E4%B8%8B%E6%9E%84%E9%80%A0%E7%9F%A9%E9%98%B5"><span class="toc-number">1.1.</span> <span class="toc-text">2392. 给定条件下构造矩阵</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#floyd%E7%AE%97%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">floyd算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E5%88%86%E9%83%A8%E7%9A%84%E5%8F%AF%E8%A1%8C%E9%9B%86%E5%90%88%E6%95%B0%E7%9B%AE"><span class="toc-number">2.1.</span> <span class="toc-text">2959. 关闭分部的可行集合数目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dijkstra%E7%AE%97%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">dijkstra算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%B6%88%E5%A4%B1%E8%8A%82%E7%82%B9%E7%9A%84%E6%9C%80%E5%B0%91%E6%97%B6%E9%97%B4"><span class="toc-number">3.1.</span> <span class="toc-text">3112. 访问消失节点的最少时间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bitset"><span class="toc-number"></span> <span class="toc-text">bitset</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E9%81%8D%E5%8E%86%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">简单遍历题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%88%86%E6%9C%80%E5%A4%9A%E7%9A%84%E7%82%B8%E5%BC%B9"><span class="toc-number">1.1.</span> <span class="toc-text">2101. 引爆最多的炸弹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dp%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">dp题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C%E5%8F%AF%E8%8E%B7%E5%BE%97%E7%9A%84%E6%9C%80%E5%A4%A7%E6%80%BB%E5%A5%96%E5%8A%B1-ii"><span class="toc-number">2.1.</span> <span class="toc-text">3181. 执行操作可获得的最大总奖励 II</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        DSA-misc
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">blacsheep</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-07-21T17:21:08.000Z" class="dt-published" itemprop="datePublished">2024-07-21</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
    </div>


      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>主要针对近期看到的以前没用过的东西, 也包括一些图论相关.</p>
<p>简单记录一下相关模版, 方便后续看到类似的题目好处理.</p>
<h2 id="差分数组">差分数组</h2>
<p>第一次见, 先熟悉一下.</p>
<h3 id="拼车">1094. 拼车</h3>
<p>车上最初有 <code>capacity</code> 个空座位。车 <strong>只能</strong> 向一个方向行驶（也就是说，<strong>不允许掉头或改变方向</strong>）</p>
<p>给定整数 <code>capacity</code> 和一个数组 <code>trips</code> ,  <code>trip[i] = [numPassengers_i, from_i, to_i]</code> 表示第 <code>i</code> 次旅行有 <code>numPassengers_i</code> 乘客，接他们和放他们的位置分别是 <code>from_i</code> 和 <code>to_i</code> 。这些位置是从汽车的初始位置向东的公里数。</p>
<p>当且仅当你可以在所有给定的行程中接送所有乘客时，返回 <code>true</code>，否则请返回 <code>false</code>。</p>
<p><strong>示例 1：</strong></p>
<p><strong>输入：</strong>trips = [[2,1,5],[3,3,7]], capacity = 4<br />
<strong>输出：</strong>false</p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：</strong>trips = [[2,1,5],[3,3,7]], capacity = 5<br />
<strong>输出：</strong>true</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= trips.length &lt;= 1000</code></li>
<li><code>trips[i].length == 3</code></li>
<li><code>1 &lt;= numPassengersi &lt;= 100</code></li>
<li><code>0 &lt;= fromi &lt; toi &lt;= 1000</code></li>
<li><code>1 &lt;= capacity &lt;= 105</code></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/car-pooling/description/">https://leetcode.cn/problems/car-pooling/description/</a></p>
<p>明确一点, 原数组某一段子数组同增同减某个数字可以看作差分数组首位的变化.</p>
<p>具体可以看<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/car-pooling/solutions/2550264/suan-fa-xiao-ke-tang-chai-fen-shu-zu-fu-9d4ra">【算法小课堂】差分数组（附题单）Python/Java/C++/Go/JS/Rust</a></p>
<p>这里通过记录某节点的增减, 直接构造差分数组, 然后从差分数组还原原数组, 判断所有节点是否超过capacity.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">carPooling</span>(<span class="params">self, trips: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], capacity: <span class="built_in">int</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        d = [<span class="number">0</span>] * <span class="number">1001</span></span><br><span class="line">        <span class="keyword">for</span> num, from_, to <span class="keyword">in</span> trips:</span><br><span class="line">            d[from_] += num</span><br><span class="line">            d[to] -= num</span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> d:</span><br><span class="line">            start += i</span><br><span class="line">            <span class="keyword">if</span> start &gt; capacity:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="使数组等于目标数组所需的最少操作次数">100329. 使数组等于目标数组所需的最少操作次数</h3>
<p>给你两个长度相同的正整数数组 <code>nums</code> 和 <code>target</code>。</p>
<p>在一次操作中，你可以选择 <code>nums</code> 的任何子数组，并将该子数组内的每个元素的值增加或减少 1。</p>
<p>返回使 <code>nums</code> 数组变为 <code>target</code> 数组所需的 <strong>最少</strong> 操作次数。</p>
<p><strong>示例 1：</strong></p>
<p><strong>输入：</strong> nums = [3,5,1,2], target = [4,6,2,4]</p>
<p><strong>输出：</strong> 2</p>
<p><strong>解释：</strong></p>
<p>执行以下操作可以使 <code>nums</code> 等于 <code>target</code>：<br />
- <code>nums[0..3]</code> 增加 1，<code>nums = [4,6,2,3]</code>。<br />
- <code>nums[3..3]</code> 增加 1，<code>nums = [4,6,2,4]</code>。</p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：</strong> nums = [1,3,2], target = [2,1,4]</p>
<p><strong>输出：</strong> 5</p>
<p><strong>解释：</strong></p>
<p>执行以下操作可以使 <code>nums</code> 等于 <code>target</code>：<br />
- <code>nums[0..0]</code> 增加 1，<code>nums = [2,3,2]</code>。<br />
- <code>nums[1..1]</code> 减少 1，<code>nums = [2,2,2]</code>。<br />
- <code>nums[1..1]</code> 减少 1，<code>nums = [2,1,2]</code>。<br />
- <code>nums[2..2]</code> 增加 1，<code>nums = [2,1,3]</code>。<br />
- <code>nums[2..2]</code> 增加 1，<code>nums = [2,1,4]</code>。</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= nums.length == target.length &lt;= 105</code></li>
<li><code>1 &lt;= nums[i], target[i] &lt;= 108</code></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-operations-to-make-array-equal-to-target/description/">https://leetcode.cn/problems/minimum-operations-to-make-array-equal-to-target/description/</a></p>
<p>同样是对子数组处理, 我们可以直接构造差分数组, 然后前面每有值加一就可以免费让后面值减一, 最终结果是所有正数和和所有负数和的绝对值里面取.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minimumOperations</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        diff = [nums[i]-target[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        pos = <span class="number">0</span></span><br><span class="line">        neg = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>):</span><br><span class="line">            diff[i] -= diff[i-<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> diff[i] &gt;= <span class="number">0</span>:</span><br><span class="line">                pos += diff[i]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                neg -= diff[i]</span><br><span class="line">        <span class="keyword">if</span> diff[<span class="number">0</span>] &gt; <span class="number">0</span>:</span><br><span class="line">            pos += diff[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            neg -= diff[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(pos, neg)</span><br></pre></td></tr></table></figure>
<h2 id="并查集">并查集</h2>
<h3 id="账户合并">721. 账户合并</h3>
<p>给定一个列表 <code>accounts</code>，每个元素 <code>accounts[i]</code> 是一个字符串列表，其中第一个元素 <code>accounts[i][0]</code> 是 <em>名称 (name)</em>，其余元素是 <em><strong>emails</strong></em> 表示该账户的邮箱地址。</p>
<p>现在，我们想合并这些账户。如果两个账户都有一些共同的邮箱地址，则两个账户必定属于同一个人。请注意，即使两个账户具有相同的名称，它们也可能属于不同的人，因为人们可能具有相同的名称。一个人最初可以拥有任意数量的账户，但其所有账户都具有相同的名称。</p>
<p>合并账户后，按以下格式返回账户：每个账户的第一个元素是名称，其余元素是 <strong>按字符 ASCII 顺序排列</strong> 的邮箱地址。账户本身可以以 <strong>任意顺序</strong> 返回。</p>
<p><strong>示例 1：</strong></p>
<p><strong>输入：</strong>accounts = [["John", "johnsmith@mail.com", "john00@mail.com"], ["John", "johnnybravo@mail.com"], ["John", "johnsmith@mail.com", "john_newyork@mail.com"], ["Mary", "mary@mail.com"]]<br />
<strong>输出：</strong>[["John", 'john00@mail.com', 'john_newyork@mail.com', 'johnsmith@mail.com'], ["John", "johnnybravo@mail.com"], ["Mary", "mary@mail.com"]]<br />
<strong>解释：</strong><br />
第一个和第三个 John 是同一个人，因为他们有共同的邮箱地址 "johnsmith@mail.com"。<br />
第二个 John 和 Mary 是不同的人，因为他们的邮箱地址没有被其他帐户使用。<br />
可以以任何顺序返回这些列表，例如答案 [['Mary'，'mary@mail.com']，['John'，'johnnybravo@mail.com']， ['John'，'john00@mail.com'，'john_newyork@mail.com'，'johnsmith@mail.com']] 也是正确的。</p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：</strong>accounts = [["Gabe","Gabe0@m.co","Gabe3@m.co","Gabe1@m.co"],["Kevin","Kevin3@m.co","Kevin5@m.co","Kevin0@m.co"],["Ethan","Ethan5@m.co","Ethan4@m.co","Ethan0@m.co"],["Hanzo","Hanzo3@m.co","Hanzo1@m.co","Hanzo0@m.co"],["Fern","Fern5@m.co","Fern1@m.co","Fern0@m.co"]]<br />
<strong>输出：</strong>[["Ethan","Ethan0@m.co","Ethan4@m.co","Ethan5@m.co"],["Gabe","Gabe0@m.co","Gabe1@m.co","Gabe3@m.co"],["Hanzo","Hanzo0@m.co","Hanzo1@m.co","Hanzo3@m.co"],["Kevin","Kevin0@m.co","Kevin3@m.co","Kevin5@m.co"],["Fern","Fern0@m.co","Fern1@m.co","Fern5@m.co"]]</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= accounts.length &lt;= 1000</code></li>
<li><code>2 &lt;= accounts[i].length &lt;= 10</code></li>
<li><code>1 &lt;= accounts[i][j].length &lt;= 30</code></li>
<li><code>accounts[i][0]</code> 由英文字母组成</li>
<li><code>accounts[i][j] (for j &gt; 0)</code> 是有效的邮箱地址</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/accounts-merge/description/?envType=daily-question&amp;envId=2024-07-21">https://leetcode.cn/problems/accounts-merge/description/?envType=daily-question&amp;envId=2024-07-21</a></p>
<p>见过并查集, 但是没完全理解. 这里邮箱之间可以建立连接关系, 所以可以用并查集, 并查集可以缩短路径减少查找时间.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.node = &#123;&#125;</span><br><span class="line">        self.size = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self, node</span>):</span><br><span class="line">        <span class="keyword">if</span> self.node.get(node) <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            self.node[node] = node</span><br><span class="line">            self.size[node] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> self.node[node] != node:</span><br><span class="line">            self.node[node] = self.node[self.node[node]]</span><br><span class="line">            node = self.node[node]</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self, p, q</span>):</span><br><span class="line">        root_p = self.find(p)</span><br><span class="line">        root_q = self.find(q)</span><br><span class="line">        <span class="keyword">if</span> root_p == root_q:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> self.size[root_p] &gt; self.size[root_q]:</span><br><span class="line">            self.node[root_q] = root_p</span><br><span class="line">            self.size[root_p] += self.size[root_q]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.node[root_p] = root_q</span><br><span class="line">            self.size[root_q] += self.size[root_p]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">accountsMerge</span>(<span class="params">self, accounts: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]:</span><br><span class="line">        email_to_name = &#123;&#125;</span><br><span class="line">        uf = UnionFind()</span><br><span class="line">        <span class="keyword">for</span> account <span class="keyword">in</span> accounts:</span><br><span class="line">            name = account[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(account)):</span><br><span class="line">                email_to_name[account[i]] = name</span><br><span class="line">                <span class="keyword">if</span> i &lt; <span class="built_in">len</span>(account) - <span class="number">1</span>:</span><br><span class="line">                    uf.union(account[i],account[i+<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        d = defaultdict(<span class="built_in">set</span>)</span><br><span class="line">        <span class="keyword">for</span> email <span class="keyword">in</span> email_to_name:</span><br><span class="line">            d[uf.find(email)].add(email)</span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line">            ans.append([email_to_name[k]] + <span class="built_in">list</span>(<span class="built_in">sorted</span>(v)))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h1 id="图">图</h1>
<h2 id="拓扑排序">拓扑排序</h2>
<h3 id="给定条件下构造矩阵">2392. 给定条件下构造矩阵</h3>
<p>给你一个 <strong>正</strong> 整数 <code>k</code> ，同时给你：</p>
<ul>
<li>一个大小为 <code>n</code> 的二维整数数组 <code>rowConditions</code> ，其中 <code>rowConditions[i] = [abovei, belowi]</code> 和<br />
</li>
<li>一个大小为 <code>m</code> 的二维整数数组 <code>colConditions</code> ，其中 <code>colConditions[i] = [lefti, righti]</code> 。</li>
</ul>
<p>两个数组里的整数都是 <code>1</code> 到 <code>k</code> 之间的数字。</p>
<p>你需要构造一个 <code>k x k</code> 的矩阵，<code>1</code> 到 <code>k</code> 每个数字需要 <strong>恰好出现一次</strong> 。剩余的数字都是 <code>0</code> 。</p>
<p>矩阵还需要满足以下条件：</p>
<ul>
<li>对于所有 <code>0</code> 到 <code>n - 1</code> 之间的下标 <code>i</code> ，数字 <code>abovei</code> 所在的 <strong>行</strong> 必须在数字 <code>belowi</code> 所在行的上面。<br />
</li>
<li>对于所有 <code>0</code> 到 <code>m - 1</code> 之间的下标 <code>i</code> ，数字 <code>lefti</code> 所在的 <strong>列</strong> 必须在数字 <code>righti</code> 所在列的左边。</li>
</ul>
<p>返回满足上述要求的 <strong>任意</strong> 矩阵。如果不存在答案，返回一个空的矩阵。</p>
<p><strong>示例 1：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2022/07/06/gridosdrawio.png" /></p>
<p><strong>输入：</strong>k = 3, rowConditions = [[1,2],[3,2]], colConditions = [[2,1],[3,2]]<br />
<strong>输出：</strong>[[3,0,0],[0,0,1],[0,2,0]]<br />
<strong>解释：</strong>上图为一个符合所有条件的矩阵。<br />
行要求如下：<br />
- 数字 1 在第 <strong>1</strong> 行，数字 2 在第 <strong>2</strong> 行，1 在 2 的上面。<br />
- 数字 3 在第 <strong>0</strong> 行，数字 2 在第 <strong>2</strong> 行，3 在 2 的上面。<br />
列要求如下：<br />
- 数字 2 在第 <strong>1</strong> 列，数字 1 在第 <strong>2</strong> 列，2 在 1 的左边。<br />
- 数字 3 在第 <strong>0</strong> 列，数字 2 在第 <strong>1</strong> 列，3 在 2 的左边。<br />
注意，可能有多种正确的答案。</p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：</strong>k = 3, rowConditions = [[1,2],[2,3],[3,1],[2,3]], colConditions = [[2,1]]<br />
<strong>输出：</strong>[]<br />
<strong>解释：</strong>由前两个条件可以得到 3 在 1 的下面，但第三个条件是 3 在 1 的上面。<br />
没有符合条件的矩阵存在，所以我们返回空矩阵。</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>2 &lt;= k &lt;= 400</code></li>
<li><code>1 &lt;= rowConditions.length, colConditions.length &lt;= 104</code></li>
<li><code>rowConditions[i].length == colConditions[i].length == 2</code></li>
<li><code>1 &lt;= abovei, belowi, lefti, righti &lt;= k</code></li>
<li><code>abovei != belowi</code></li>
<li><code>lefti != righti</code></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/build-a-matrix-with-conditions/description/">https://leetcode.cn/problems/build-a-matrix-with-conditions/description/</a></p>
<p>可以回想之前课程表那些题, 也是拓扑排序.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">buildMatrix</span>(<span class="params">self, k: <span class="built_in">int</span>, rowConditions: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], colConditions: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">toposort</span>(<span class="params">edges</span>):</span><br><span class="line">            graph = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(k)]</span><br><span class="line">            in_deg = [<span class="number">0</span>] * k</span><br><span class="line">            <span class="keyword">for</span> u, v <span class="keyword">in</span> edges:</span><br><span class="line">                graph[u-<span class="number">1</span>].append(v-<span class="number">1</span>)</span><br><span class="line">                in_deg[v-<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            order = []</span><br><span class="line">            q = deque(i <span class="keyword">for</span> i, u <span class="keyword">in</span> <span class="built_in">enumerate</span>(in_deg) <span class="keyword">if</span> u == <span class="number">0</span> )</span><br><span class="line">            <span class="keyword">while</span> q:</span><br><span class="line">                node = q.popleft()</span><br><span class="line">                order.append(node)</span><br><span class="line">                <span class="keyword">for</span> target <span class="keyword">in</span> graph[node]:</span><br><span class="line">                    in_deg[target] -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> in_deg[target] == <span class="number">0</span>:</span><br><span class="line">                        q.append(target)</span><br><span class="line">            <span class="keyword">return</span> order <span class="keyword">if</span> <span class="built_in">len</span>(order) == k <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line">        </span><br><span class="line">        row = toposort(rowConditions)</span><br><span class="line">        col = toposort(colConditions)</span><br><span class="line">        <span class="keyword">if</span> row <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> col <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        </span><br><span class="line">        pos = &#123;x:i <span class="keyword">for</span> i, x <span class="keyword">in</span> <span class="built_in">enumerate</span>(col)&#125;</span><br><span class="line">        ans = [[<span class="number">0</span>] * k <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(k)]</span><br><span class="line">        <span class="keyword">for</span> i, x <span class="keyword">in</span> <span class="built_in">enumerate</span>(row):</span><br><span class="line">            ans[i][pos[x]] = x + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="floyd算法">floyd算法</h2>
<h3 id="关闭分部的可行集合数目">2959. 关闭分部的可行集合数目</h3>
<p>一个公司在全国有 <code>n</code> 个分部，它们之间有的有道路连接。一开始，所有分部通过这些道路两两之间互相可以到达。</p>
<p>公司意识到在分部之间旅行花费了太多时间，所以它们决定关闭一些分部（<strong>也可能不关闭任何分部</strong>），同时保证剩下的分部之间两两互相可以到达且最远距离不超过 <code>maxDistance</code> 。</p>
<p>两个分部之间的 <strong>距离</strong> 是通过道路长度之和的 <strong>最小值</strong> 。</p>
<p>给你整数 <code>n</code> ，<code>maxDistance</code> 和下标从 <strong>0</strong> 开始的二维整数数组 <code>roads</code> ，其中 <code>roads[i] = [ui, vi, wi]</code> 表示一条从 <code>ui</code> 到 <code>vi</code> 长度为 <code>wi</code>的 <strong>无向</strong> 道路。</p>
<p>请你返回关闭分部的可行方案数目，满足每个方案里剩余分部之间的最远距离不超过 <code>maxDistance</code>。</p>
<p><strong>注意</strong>，关闭一个分部后，与之相连的所有道路不可通行。</p>
<p><strong>注意</strong>，两个分部之间可能会有多条道路。</p>
<p><strong>示例 1：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2023/11/08/example11.png" /></p>
<p><strong>输入：</strong>n = 3, maxDistance = 5, roads = [[0,1,2],[1,2,10],[0,2,10]]<br />
<strong>输出：</strong>5<br />
<strong>解释：</strong>可行的关闭分部方案有：<br />
- 关闭分部集合 [2] ，剩余分部为 [0,1] ，它们之间的距离为 2 。<br />
- 关闭分部集合 [0,1] ，剩余分部为 [2] 。<br />
- 关闭分部集合 [1,2] ，剩余分部为 [0] 。<br />
- 关闭分部集合 [0,2] ，剩余分部为 [1] 。<br />
- 关闭分部集合 [0,1,2] ，关闭后没有剩余分部。<br />
总共有 5 种可行的关闭方案。</p>
<p><strong>示例 2：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2023/11/08/example22.png" /></p>
<p><strong>输入：</strong>n = 3, maxDistance = 5, roads = [[0,1,20],[0,1,10],[1,2,2],[0,2,2]]<br />
<strong>输出：</strong>7<br />
<strong>解释：</strong>可行的关闭分部方案有：<br />
- 关闭分部集合 [] ，剩余分部为 [0,1,2] ，它们之间的最远距离为 4 。<br />
- 关闭分部集合 [0] ，剩余分部为 [1,2] ，它们之间的距离为 2 。<br />
- 关闭分部集合 [1] ，剩余分部为 [0,2] ，它们之间的距离为 2 。<br />
- 关闭分部集合 [0,1] ，剩余分部为 [2] 。<br />
- 关闭分部集合 [1,2] ，剩余分部为 [0] 。<br />
- 关闭分部集合 [0,2] ，剩余分部为 [1] 。<br />
- 关闭分部集合 [0,1,2] ，关闭后没有剩余分部。<br />
总共有 7 种可行的关闭方案。</p>
<p><strong>示例 3：</strong></p>
<p><strong>输入：</strong>n = 1, maxDistance = 10, roads = []<br />
<strong>输出：</strong>2<br />
<strong>解释：</strong>可行的关闭分部方案有：<br />
- 关闭分部集合 [] ，剩余分部为 [0] 。<br />
- 关闭分部集合 [0] ，关闭后没有剩余分部。<br />
总共有 2 种可行的关闭方案。</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 10</code></li>
<li><code>1 &lt;= maxDistance &lt;= 105</code></li>
<li><code>0 &lt;= roads.length &lt;= 1000</code></li>
<li><code>roads[i].length == 3</code></li>
<li><code>0 &lt;= ui, vi &lt;= n - 1</code></li>
<li><code>ui != vi</code></li>
<li><code>1 &lt;= wi &lt;= 1000</code></li>
<li>一开始所有分部之间通过道路互相可以到达。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-possible-sets-of-closing-branches/description/?envType=daily-question&amp;envId=2024-07-21">https://leetcode.cn/problems/number-of-possible-sets-of-closing-branches/description/?envType=daily-question&amp;envId=2024-07-21</a></p>
<p>生成所有可能组合, 然后对所有组合做floyd求出最大的最短路径. 非常暴力, 但是floyd板子可以看下.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">floyd</span>(<span class="params">self, node_lst, graph</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(node_lst) &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        shortest = <span class="built_in">float</span>(<span class="string">&#x27;-inf&#x27;</span>)</span><br><span class="line">        d = copy.deepcopy(graph)</span><br><span class="line">        <span class="keyword">for</span> mid <span class="keyword">in</span> node_lst:</span><br><span class="line">            <span class="keyword">for</span> u <span class="keyword">in</span> node_lst:</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> node_lst:</span><br><span class="line">                    <span class="keyword">if</span> d[u][v] &gt; d[u][mid] + d[mid][v]:</span><br><span class="line">                        d[u][v] = d[u][mid] + d[mid][v]</span><br><span class="line">                        d[v][u] = d[u][v]</span><br><span class="line">        <span class="keyword">for</span> u <span class="keyword">in</span> node_lst:</span><br><span class="line">            <span class="keyword">for</span> v <span class="keyword">in</span> node_lst:</span><br><span class="line">                <span class="keyword">if</span> d[u][v] &gt; shortest:</span><br><span class="line">                    shortest = d[u][v]</span><br><span class="line">        <span class="keyword">del</span> d</span><br><span class="line">        <span class="keyword">return</span> shortest</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numberOfSets</span>(<span class="params">self, n: <span class="built_in">int</span>, maxDistance: <span class="built_in">int</span>, roads: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        graph = [[<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            graph[i][i] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> u, v, w <span class="keyword">in</span> roads:</span><br><span class="line">            dis = <span class="built_in">min</span>(w, graph[u][v])</span><br><span class="line">            graph[u][v] = dis</span><br><span class="line">            graph[v][u] = dis</span><br><span class="line"></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span> ** n):</span><br><span class="line">            node_lst = [j <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n) <span class="keyword">if</span> (i &gt;&gt; j) &amp; <span class="number">1</span>]</span><br><span class="line">            shortest = self.floyd(node_lst, graph)</span><br><span class="line">            <span class="keyword">if</span> shortest &lt;= maxDistance:</span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="dijkstra算法">dijkstra算法</h2>
<h3 id="访问消失节点的最少时间">3112. 访问消失节点的最少时间</h3>
<p>给你一个二维数组 <code>edges</code> 表示一个 <code>n</code> 个点的无向图，其中 <code>edges[i] = [ui, vi, lengthi]</code> 表示节点 <code>ui</code> 和节点 <code>vi</code> 之间有一条需要 <code>lengthi</code> 单位时间通过的无向边。</p>
<p>同时给你一个数组 <code>disappear</code> ，其中 <code>disappear[i]</code> 表示节点 <code>i</code> 从图中消失的时间点，在那一刻及以后，你无法再访问这个节点。</p>
<p><strong>注意</strong>，图有可能一开始是不连通的，两个节点之间也可能有多条边。</p>
<p>请你返回数组 <code>answer</code> ，<code>answer[i]</code> 表示从节点 <code>0</code> 到节点 <code>i</code> 需要的 <strong>最少</strong> 单位时间。如果从节点 <code>0</code> 出发 <strong>无法</strong> 到达节点 <code>i</code> ，那么 <code>answer[i]</code> 为 <code>-1</code> 。</p>
<p><strong>示例 1：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2024/03/09/example1.png" /></p>
<p><strong>输入：</strong>n = 3, edges = [[0,1,2],[1,2,1],[0,2,4]], disappear = [1,1,5]</p>
<p><strong>输出：</strong>[0,-1,4]</p>
<p><strong>解释：</strong></p>
<p>我们从节点 0 出发，目的是用最少的时间在其他节点消失之前到达它们。</p>
<ul>
<li>对于节点 0 ，我们不需要任何时间，因为它就是我们的起点。<br />
</li>
<li>对于节点 1 ，我们需要至少 2 单位时间，通过 <code>edges[0]</code> 到达。但当我们到达的时候，它已经消失了，所以我们无法到达它。<br />
</li>
<li>对于节点 2 ，我们需要至少 4 单位时间，通过 <code>edges[2]</code> 到达。</li>
</ul>
<p><strong>示例 2：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2024/03/09/example2.png" /></p>
<p><strong>输入：</strong>n = 3, edges = [[0,1,2],[1,2,1],[0,2,4]], disappear = [1,3,5]</p>
<p><strong>输出：</strong>[0,2,3]</p>
<p><strong>解释：</strong></p>
<p>我们从节点 0 出发，目的是用最少的时间在其他节点消失之前到达它们。</p>
<ul>
<li>对于节点 0 ，我们不需要任何时间，因为它就是我们的起点。<br />
</li>
<li>对于节点 1 ，我们需要至少 2 单位时间，通过 <code>edges[0]</code> 到达。<br />
</li>
<li>对于节点 2 ，我们需要至少 3 单位时间，通过 <code>edges[0]</code> 和 <code>edges[1]</code> 到达。</li>
</ul>
<p><strong>示例 3：</strong></p>
<p><strong>输入：</strong>n = 2, edges = [[0,1,1]], disappear = [1,1]</p>
<p><strong>输出：</strong>[0,-1]</p>
<p><strong>解释：</strong></p>
<p>当我们到达节点 1 的时候，它恰好消失，所以我们无法到达节点 1 。</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 5 * 104</code></li>
<li><code>0 &lt;= edges.length &lt;= 105</code></li>
<li><code>edges[i] == [ui, vi, lengthi]</code></li>
<li><code>0 &lt;= ui, vi &lt;= n - 1</code></li>
<li><code>1 &lt;= lengthi &lt;= 105</code></li>
<li><code>disappear.length == n</code></li>
<li><code>1 &lt;= disappear[i] &lt;= 105</code></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-time-to-visit-disappearing-nodes/description/?envType=daily-question&amp;envId=2024-07-21">https://leetcode.cn/problems/minimum-time-to-visit-disappearing-nodes/description/?envType=daily-question&amp;envId=2024-07-21</a></p>
<p>比较基础的dijkstra.</p>
<ol type="1">
<li>存graph<br />
</li>
<li>初始化ans全-1<br />
</li>
<li>初始化queue为(0,0), 每次用优先队列取(distance, node)<br />
</li>
<li>循环读queue, 且将读取的节点当中间节点来更新ans<br />
</li>
<li>返回ans</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minimumTime</span>(<span class="params">self, n: <span class="built_in">int</span>, edges: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], disappear: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        graph = [[] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="keyword">for</span> u,v,w <span class="keyword">in</span> edges:</span><br><span class="line">            graph[u].append([v,w])</span><br><span class="line">            graph[v].append([u,w])</span><br><span class="line">        </span><br><span class="line">        ans = [-<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        ans[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        <span class="comment"># distance, target</span></span><br><span class="line">        q = [(<span class="number">0</span>,<span class="number">0</span>)]</span><br><span class="line">        <span class="keyword">while</span> q:</span><br><span class="line">            dist, target = heapq.heappop(q)</span><br><span class="line">            <span class="keyword">if</span> dist &gt; ans[target]:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">for</span> node, weight <span class="keyword">in</span> graph[target]:</span><br><span class="line">                new_dist = dist + weight</span><br><span class="line">                <span class="keyword">if</span> new_dist &lt; disappear[node] <span class="keyword">and</span> (new_dist &lt; ans[node] <span class="keyword">or</span> ans[node] &lt; <span class="number">0</span>):</span><br><span class="line">                    ans[node] = new_dist</span><br><span class="line">                    heapq.heappush(q, (new_dist, node))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h1 id="bitset">bitset</h1>
<h2 id="简单遍历题">简单遍历题</h2>
<h3 id="引爆最多的炸弹">2101. 引爆最多的炸弹</h3>
<p>给你一个炸弹列表。一个炸弹的 <strong>爆炸范围</strong> 定义为以炸弹为圆心的一个圆。</p>
<p>炸弹用一个下标从 <strong>0</strong> 开始的二维整数数组 <code>bombs</code> 表示，其中 <code>bombs[i] = [xi, yi, ri]</code> 。<code>xi</code> 和 <code>yi</code> 表示第 <code>i</code> 个炸弹的 X 和 Y 坐标，<code>ri</code> 表示爆炸范围的 <strong>半径</strong> 。</p>
<p>你需要选择引爆 <strong>一个</strong> 炸弹。当这个炸弹被引爆时，<strong>所有</strong> 在它爆炸范围内的炸弹都会被引爆，这些炸弹会进一步将它们爆炸范围内的其他炸弹引爆。</p>
<p>给你数组 <code>bombs</code> ，请你返回在引爆 <strong>一个</strong> 炸弹的前提下，<strong>最多</strong> 能引爆的炸弹数目。</p>
<p><strong>示例 1：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/11/06/desmos-eg-3.png" /></p>
<p><strong>输入：</strong>bombs = [[2,1,3],[6,1,4]]<br />
<strong>输出：</strong>2<br />
<strong>解释：</strong><br />
上图展示了 2 个炸弹的位置和爆炸范围。<br />
如果我们引爆左边的炸弹，右边的炸弹不会被影响。<br />
但如果我们引爆右边的炸弹，两个炸弹都会爆炸。<br />
所以最多能引爆的炸弹数目是 max(1, 2) = 2 。</p>
<p><strong>示例 2：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/11/06/desmos-eg-2.png" /></p>
<p><strong>输入：</strong>bombs = [[1,1,5],[10,10,5]]<br />
<strong>输出：</strong>1<br />
<strong>解释：</strong><br />
引爆任意一个炸弹都不会引爆另一个炸弹。所以最多能引爆的炸弹数目为 1 。</p>
<p><strong>示例 3：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2021/11/07/desmos-eg1.png" /></p>
<p><strong>输入：</strong>bombs = [[1,2,3],[2,3,1],[3,4,2],[4,5,3],[5,6,4]]<br />
<strong>输出：</strong>5<br />
<strong>解释：</strong><br />
最佳引爆炸弹为炸弹 0 ，因为：<br />
- 炸弹 0 引爆炸弹 1 和 2 。红色圆表示炸弹 0 的爆炸范围。<br />
- 炸弹 2 引爆炸弹 3 。蓝色圆表示炸弹 2 的爆炸范围。<br />
- 炸弹 3 引爆炸弹 4 。绿色圆表示炸弹 3 的爆炸范围。<br />
所以总共有 5 个炸弹被引爆。</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= bombs.length &lt;= 100</code></li>
<li><code>bombs[i].length == 3</code></li>
<li><code>1 &lt;= xi, yi, ri &lt;= 105</code></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/detonate-the-maximum-bombs/description/?envType=daily-question&amp;envId=2024-07-21">https://leetcode.cn/problems/detonate-the-maximum-bombs/description/?envType=daily-question&amp;envId=2024-07-21</a></p>
<p><strong>bfs做法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maximumDetonation</span>(<span class="params">self, bombs: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        source_target = defaultdict(<span class="built_in">set</span>)</span><br><span class="line">        center = [(x,y) <span class="keyword">for</span> x,y,r <span class="keyword">in</span> bombs]</span><br><span class="line">        ctr = Counter(center)</span><br><span class="line">        center = <span class="built_in">set</span>(center)</span><br><span class="line">        <span class="keyword">for</span> x,y,r <span class="keyword">in</span> bombs:</span><br><span class="line">            <span class="keyword">for</span> cx, cy <span class="keyword">in</span> center:</span><br><span class="line">                <span class="keyword">if</span> (x-cx) ** <span class="number">2</span> + (y-cy) ** <span class="number">2</span> &lt;= r ** <span class="number">2</span>:</span><br><span class="line">                    source_target[(x,y)].add((cx,cy))</span><br><span class="line"></span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> center:</span><br><span class="line">            x, y = center.pop()</span><br><span class="line">            curr = ctr[(x,y)]</span><br><span class="line">            visited = <span class="built_in">set</span>()</span><br><span class="line">            visited.add((x,y))</span><br><span class="line">            stack = <span class="built_in">set</span>()</span><br><span class="line">            stack.add((x,y))</span><br><span class="line">            <span class="keyword">while</span> stack:</span><br><span class="line">                x, y = stack.pop()</span><br><span class="line">                <span class="keyword">for</span> nx, ny <span class="keyword">in</span> source_target[(x,y)]:</span><br><span class="line">                    <span class="keyword">if</span> (nx,ny) <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        stack.add((nx,ny))</span><br><span class="line">                        visited.add((nx,ny))</span><br><span class="line">                        curr += ctr[(nx,ny)]</span><br><span class="line">                        center -= &#123;(nx,ny)&#125;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, curr)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<p>bitset做法, f存的数字的二进制位数表示了可以引爆的数量, 解法蛮暴力的.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maximumDetonation</span>(<span class="params">self, bombs: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        n = <span class="built_in">len</span>(bombs)</span><br><span class="line">        f = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">for</span> i, (x, y, r) <span class="keyword">in</span> <span class="built_in">enumerate</span>(bombs):</span><br><span class="line">            <span class="keyword">for</span> j, (x2, y2, _) <span class="keyword">in</span> <span class="built_in">enumerate</span>(bombs):</span><br><span class="line">                dx = x - x2</span><br><span class="line">                dy = y - y2</span><br><span class="line">                <span class="keyword">if</span> dx * dx + dy * dy &lt;= r * r:</span><br><span class="line">                    f[i] |= <span class="number">1</span> &lt;&lt; j</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> f[i] &gt;&gt; k &amp; <span class="number">1</span>:</span><br><span class="line">                    f[i] |= f[k]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(s.bit_count() <span class="keyword">for</span> s <span class="keyword">in</span> f)</span><br></pre></td></tr></table></figure>
<h2 id="dp题">dp题</h2>
<h3 id="执行操作可获得的最大总奖励-ii">3181. 执行操作可获得的最大总奖励 II</h3>
<p>给你一个整数数组 <code>rewardValues</code>，长度为 <code>n</code>，代表奖励的值。</p>
<p>最初，你的总奖励 <code>x</code> 为 0，所有下标都是 <strong>未标记</strong> 的。你可以执行以下操作 <strong>任意次</strong> ：</p>
<ul>
<li>从区间 <code>[0, n - 1]</code> 中选择一个 <strong>未标记</strong> 的下标 <code>i</code>。<br />
</li>
<li>如果 <code>rewardValues[i]</code> <strong>大于</strong> 你当前的总奖励 <code>x</code>，则将 <code>rewardValues[i]</code> 加到 <code>x</code> 上（即 <code>x = x + rewardValues[i]</code>），并 <strong>标记</strong> 下标 <code>i</code>。</li>
</ul>
<p>以整数形式返回执行最优操作能够获得的 <strong>最大</strong> 总奖励。</p>
<p><strong>示例 1：</strong></p>
<p><strong>输入：</strong>rewardValues = [1,1,3,3]</p>
<p><strong>输出：</strong>4</p>
<p><strong>解释：</strong></p>
<p>依次标记下标 0 和 2，总奖励为 4，这是可获得的最大值。</p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：</strong>rewardValues = [1,6,4,3,2]</p>
<p><strong>输出：</strong>11</p>
<p><strong>解释：</strong></p>
<p>依次标记下标 0、2 和 1。总奖励为 11，这是可获得的最大值。</p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= rewardValues.length &lt;= 5 * 104</code><br />
</li>
<li><code>1 &lt;= rewardValues[i] &lt;= 5 * 104</code></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-total-reward-using-operations-ii/description/">https://leetcode.cn/problems/maximum-total-reward-using-operations-ii/description/</a></p>
<p>这题在dp里面也记录了下, 因为状态转移是直接平移, 所以可以用bit来做, 进行一个计算加速同时节省空间.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxTotalReward</span>(<span class="params">self, rewardValues: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        f = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> <span class="built_in">sorted</span>(<span class="built_in">set</span>(rewardValues)):</span><br><span class="line">            f |= (f &amp; ((<span class="number">1</span>&lt;&lt;v)-<span class="number">1</span>)) &lt;&lt; v</span><br><span class="line">        <span class="keyword">return</span> f.bit_length() - <span class="number">1</span></span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/categories/">Category</a></li>
        
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84"><span class="toc-number">1.</span> <span class="toc-text">差分数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%BC%E8%BD%A6"><span class="toc-number">1.1.</span> <span class="toc-text">1094. 拼车</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E6%95%B0%E7%BB%84%E7%AD%89%E4%BA%8E%E7%9B%AE%E6%A0%87%E6%95%B0%E7%BB%84%E6%89%80%E9%9C%80%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AC%A1%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">100329. 使数组等于目标数组所需的最少操作次数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-number">2.</span> <span class="toc-text">并查集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A6%E6%88%B7%E5%90%88%E5%B9%B6"><span class="toc-number">2.1.</span> <span class="toc-text">721. 账户合并</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE"><span class="toc-number"></span> <span class="toc-text">图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">拓扑排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%AE%9A%E6%9D%A1%E4%BB%B6%E4%B8%8B%E6%9E%84%E9%80%A0%E7%9F%A9%E9%98%B5"><span class="toc-number">1.1.</span> <span class="toc-text">2392. 给定条件下构造矩阵</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#floyd%E7%AE%97%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">floyd算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E5%88%86%E9%83%A8%E7%9A%84%E5%8F%AF%E8%A1%8C%E9%9B%86%E5%90%88%E6%95%B0%E7%9B%AE"><span class="toc-number">2.1.</span> <span class="toc-text">2959. 关闭分部的可行集合数目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dijkstra%E7%AE%97%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">dijkstra算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%B6%88%E5%A4%B1%E8%8A%82%E7%82%B9%E7%9A%84%E6%9C%80%E5%B0%91%E6%97%B6%E9%97%B4"><span class="toc-number">3.1.</span> <span class="toc-text">3112. 访问消失节点的最少时间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bitset"><span class="toc-number"></span> <span class="toc-text">bitset</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E9%81%8D%E5%8E%86%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">简单遍历题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%88%86%E6%9C%80%E5%A4%9A%E7%9A%84%E7%82%B8%E5%BC%B9"><span class="toc-number">1.1.</span> <span class="toc-text">2101. 引爆最多的炸弹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dp%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">dp题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C%E5%8F%AF%E8%8E%B7%E5%BE%97%E7%9A%84%E6%9C%80%E5%A4%A7%E6%80%BB%E5%A5%96%E5%8A%B1-ii"><span class="toc-number">2.1.</span> <span class="toc-text">3181. 执行操作可获得的最大总奖励 II</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/07/21/DSA-misc/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/07/21/DSA-misc/&text=DSA-misc"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/07/21/DSA-misc/&is_video=false&description=DSA-misc"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=DSA-misc&body=Check out this article: http://example.com/2024/07/21/DSA-misc/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/07/21/DSA-misc/&title=DSA-misc"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/07/21/DSA-misc/&name=DSA-misc&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/07/21/DSA-misc/&t=DSA-misc"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2024
    blacsheep
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
